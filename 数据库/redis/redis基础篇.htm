<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK" />
<title>redis</title>
<style>
div{
	padding-left:3%;
}
.divfirst{
	width:96%;
	background-color:#FFCC99;
}
.divnext{
	border-style: dotted;
	border-color: #C0C0C0;
	display:none;
	width:94%;
	margin-left:1%;
}
.table{
	
	width:100%;
	margin-left:10px;
	
}
.table tr td{
	text-align:left;
	border:1px solid black;
	padding-left:15px;
}
</style>
<script>
function hoverhidden(obj){
	//obj.nextSibling 获取下一个同辈元素
	var nextObj = obj.nextSibling ;
	if(nextObj.style.display=="block"){
		nextObj.style.display = "" ;
		obj.style.background = "#FFCC99"
	}else{
		nextObj.style.display = "block" ;
		obj.style.background = "#99FFCC"
	}
}
</script>
</head>

<body>

<h4></h4>
<div class="divfirst"  onclick="javascript:hoverhidden(this)">
库管理
</div>
<div class="divnext" >
	<ul style=" list-style-type: none;">
	<br/>
	<li>
		<table class="table" style="font-size:large;width:90%">
			<tr style="background-color:lightgrey">

				<td style="width:30%;">命令</td>
				<td style="width:70%;">含义</td>
			</tr>
			<tr>
				<td style="width:30%;">info [section]</td>
				<td style="width:70%;">redis信息 
				包括
				Server、Clients、Memory、Persistence、
				Stats、Replication、CPU、Cluster、Keyspace</td>
			</tr>
			
			<tr>
				<td style="width:30%;">select dbIndex</td>
				<td style="width:70%;">切换库 建议多实例单库</td>
			</tr>
			<tr>
				<td style="width:30%;">flushdb/flushall</td>
				<td style="width:70%;">清除库数据</td>
			</tr>
			<tr>
				<td style="width:30%;">config set</td>
				<td style="width:70%;">动态设置</td>
			</tr>
			<tr>
				<td style="width:30%;">config rewrite</td>
				<td style="width:70%;">持久化配置文件</td>
			</tr>
			<tr>
				<td style="width:30%;">pttl key</td>
				<td style="width:70%;">查看key过期时间</td>
			</tr>
			<tr>
				<td style="width:30%;">persist key</td>
				<td style="width:70%;">删除key过期时间</td>
			</tr>
			<tr>
				<td style="width:30%;">persist key</td>
				<td style="width:70%;">删除key过期时间</td>
			</tr>
			

		</table>
	</li>
	</ul>
</div>

<h4></h4>
<div class="divfirst"  onclick="javascript:hoverhidden(this)">
优化
</div>
<div class="divnext" >
	<ul style=" list-style-type: none;">

	<li>
	<br/>
容量预估：http://www.redis.cn/redis_memory/ 
	</li>
	</ul>
</div>

<h4></h4>
<div class="divfirst"  onclick="javascript:hoverhidden(this)">
慢查询
</div>
<div class="divnext" >
	<ul style=" list-style-type: decimal;">
	<br/>
	<li>
		a.	slowlog-log-slower-than	预设阈值 生产10000 （10毫秒）<br/>
		b.	slowlog-max-len			存储条数 生产1000以上
		<br/><br/>
		获取 slowlog get [n] ；获得list 每个element有4个属性：<br/>
		a. 标识id<br/>
		b. 时间戳<br/>
		c. 命令耗时<br/>
		d. 执行命令和参数<br/><br/>
		<table class="table" style="font-size:large;width:90%">
			<tr>

				<td rowspan="2" style="width:15%;">参数</td>
				<td style="width:40%;">slowlog-log-slower-than</td>
				<td style="width:45%;">预设阈值 生产10000 （10毫秒）</td>
			</tr>
			
			<tr>
				<td style="width:40%;">slowlog-max-len</td>
				<td style="width:45%;">存储条数 生产1000以上</td>
			</tr>
			
			<tr>

				<td rowspan="3" style="width:15%;">查询</td>
				<td style="width:40%;">slowlog get [n]</td>
				<td style="width:45%;">获得list 每个element有4个属性：<br/>
		a. 标识id<br/>
		b. 时间戳<br/>
		c. 命令耗时<br/>
		d. 执行命令和参数</td>
			</tr>
			
			<tr>
				<td style="width:40%;">slowlog len</td>
				<td style="width:45%;">慢查询列表长度</td>
			</tr>
			<tr>
				<td style="width:40%;">slowlog reset</td>
				<td style="width:45%;">清理慢查询列表</td>
			</tr>
			

		</table>
	</li>
	</ul>
</div>

<h4></h4>
<div class="divfirst"  onclick="javascript:hoverhidden(this)">
jsdis连接方式
</div>
<div class="divnext" >
	<ul style=" list-style-type: decimal;">
	<br/>
	<li>
		普通：<br/>
	</li>
	<br/>
	<li>
		连接池：<br/>
		
	</li>
	<br/>
	<li>
		分布式：redis2.x没有集群功能，采用分布式<br/>
	</li>
	
</div>



<h4></h4>
<div class="divfirst"  onclick="javascript:hoverhidden(this)">
test
</div>
<div class="divnext">content
</div>



</body>
</html>
