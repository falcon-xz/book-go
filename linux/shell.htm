<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>shell编程</title>
<style>
.table{
	
	width:100%;
	margin-left:10px;
	
}
.table tr td{
	
	border:1px solid black;
}

</style>
</head>

<body>
<h4>shell语法 <a href="../other/study.sh">示例</a></h4>
<ul style=" list-style-type: decimal;">
	<li>设置字符集<br/>
	export LANG="en_US.UTF-8"<br/>
	</li>
	<br/>
	<li>运行前传参<br/>
	./xx.sh arg1 arg2<br/>
	使用$1 $2 代表参数<br/>
	arg1=$1 <br/>
	</li>
	<br/>
	<li>打印<br/>
	echo $arg1 或者 echo ${arg1}<br/>
	</li>
	<br/>
	<li>字符串的处理<br/>
	${arg1:1} --- arg1.substr(1)<br/>
	使用$((${arg1:1}+1)) 重新赋值<br/>
	</li>
	<br/>
	<li>#while 循环与if判断<br/>
	<span style="color:red;">所有判断使用[]的 必须在字符前后加空格</span><br/>
	while [ $ifarg -le 20 ]<br/>
	do<br/>
	#if 判断<br/>
	if [ $ifarg -lt 5 ] ;then <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;	ifarg=$(($ifarg+2))<br/>
	elif [ $ifarg -gt 5 ] ;then <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;	ifarg=$(($ifarg+3))<br/>
	else<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;	ifarg=$(($ifarg+1))<br/>
	fi<br/>
	echo "--while--"$ifarg<br/>
	done<br/>
	</li>
	<br/>
	<li>#for 循环 <br/>
	for((i=1;i<=4;i++))<br/>
	do<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;	ifarg=$(($ifarg-$i))<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;	echo "--for--"$ifarg<br/>
	done<br/>
	</li>
	<br/>
	<li>`` 符号<br/>
	相当于procedure中execute immediately<br/>
	BEGIN_TIME=`date '+%s'` <br/>
	END_TIME=`date '+%s'`<br/>
	echo "$(($END_TIME-$BEGIN_TIME))秒"<br/>
	</li>
	<br/>
	<li>hive+shell<br/><br/>
	#单行<br/>
	hivesql=`hive -e "select concat_ws('-','1','2') ;"`<br/>
	执行结果为1-2<br/>
	array=(${hivesql//-/})<br/>
	for i in ${array[@]}<br/>
	do<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;	echo "单行循环"$i<br/>
	done<br/><br/>
	#多行中直接取值都是以 空格 分割<br/>
	hivesql2=`hive -e "select '3A','3B' union all select '4A','4B' union all select '5A','5B' ;"`<br/>
	echo "多行字符串"$hivesql2<br/>
	array2=(${hivesql2// /})<br/>
	for i in ${array2[@]}<br/>
	do<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;	echo "多行循环"$i<br/>
	done<br/>
	</li>
</ul>


</body>

</html>
