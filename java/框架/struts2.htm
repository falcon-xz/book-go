<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK" />
<title>struts2</title>
<style type="text/css">
.c{cursor:hand}
.m{color:blue}
.t{color:#990000}
.e{margin-left:1em;text-indent:-1em;margin-right:1em}
.b{color:red;font-family:'Courier New';font-weight:bold;text-decoration:none}
</style>
</head>

<body>
<div><h2>struts2-xml</h2></div>
<ul style="list-style:decimal">
<li>
<div style="TEXT-INDENT: -0.5em; MARGIN-LEFT: 1em" class="c">
	<span class="m">&lt;</span><span class="t">result-types</span><span class="m">&gt;</span>
		<br />
	&nbsp;&nbsp;&nbsp;
	<font color="gray" size="2">//基本的</font></div>
<div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>dispatcher</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.ServletDispatcherResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>true</b><span class="m">&quot; 
			/&gt;</span> <br />
			<font color="gray" size="2">//request.getRequestDispatcher("URL").forward(request, response) ;方式（慎用）</font></div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			
			
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>chain</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>com.opensymphony.xwork2.ActionChainResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;<br />
			<font color="gray" size="2">//response.sendRedirect("URL") ;方式 </font></span><br>
			
			 </div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>redirect</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.ServletRedirectResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>redirectAction</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.ServletActionRedirectResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> <br />
			<font color="gray" size="2">//流 方式 </font>
		</div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>stream</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.StreamResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>freemarker</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.views.freemarker.FreemarkerResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>httpheader</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.HttpHeaderResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	
	
	
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>velocity</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.VelocityResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>xslt</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.views.xslt.XSLTResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>plainText</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.PlainTextResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	<div class="e">
		<div style="TEXT-INDENT: -2em; MARGIN-LEFT: 1em">
			<span class="b">&nbsp;</span> <span class="m">&lt;</span><span class="t">result-type</span>
			<span class="t">name</span><span class="m">=&quot;</span><b>postback</b><span class="m">&quot;</span><span class="t"> 
			class</span><span class="m">=&quot;</span><b>org.apache.struts2.dispatcher.PostbackResult</b><span class="m">&quot;</span><span class="t"> 
			default</span><span class="m">=&quot;</span><b>false</b><span class="m">&quot; 
			/&gt;</span> </div>
	</div>
	<div>
		<span class="m">&lt;/</span><span class="t">result-types</span><span class="m">&gt;</span></div>
</div>

</li>
<li>
	struts2框架载入信息<br/>
	&lt;filter&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;filter-name&gt;struts2&lt;/filter-name&gt;<br />
&nbsp;&nbsp;&nbsp; 
	&lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;init-param&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;param-name&gt;config&lt;/param-name&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #009933">&lt;!--&nbsp;默认struts.xml在src目录下，如果重新定义路径，同样需要重新定义default和plugin两个XML --&gt;</span>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;param-value&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	struts-default.xml,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	struts-plugin.xml,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	../config/struts.xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/param-value&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/init-param&gt;<br />
	&lt;/filter&gt;<br />
	&lt;filter-mapping&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;filter-name&gt;struts2&lt;/filter-name&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;<br />
	&lt;/filter-mapping&gt;</li>
	<li>struts.xml配置信息<br/>
	多个
	
	&lt;package&gt; 使用namespace分割 继承属性一般为（struts-default、json-default）<br />
	&lt;package name=&quot;tree&quot; namespace=&quot;/tree&quot; extends=&quot;json-default&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;action name=&quot;tree&quot; class=&quot;com.extjs.tree.action.TreeAction&quot; 
	method=&quot;tree&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	&lt;interceptor-ref name=&quot;json&quot; /&gt;&lt;!--处理以JSON文本提交的请求 --&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	&lt;!--将action的bean属性以json字符串返回浏览器 --&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	&lt;result type=&quot;json&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	&lt;param name=&quot;noCache&quot;&gt;true&lt;/param&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	&lt;param name=&quot;wrapPrefix&quot;&gt;[&lt;/param&gt;//前置[<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	&lt;param name=&quot;wrapSuffix&quot;&gt;]&lt;/param&gt;//后置]<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	&lt;/result&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/action&gt;<br />
	&lt;/package&gt;<br />
	一般使用response.setContentType("") 来设置<br/>
	如<span style="color: #FF0000">text/html、text/xml、text/json</span> 拼接后输出 实现 跟ajax相似
		</li>
</ul>





</body>

</html>
