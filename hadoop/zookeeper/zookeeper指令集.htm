<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>zookeeper指令集</title>
<style>
.table{
	
	width:100%;
	margin-left:10px;
	
}
.table tr td{
	text-align:left;
	border:1px solid black;
	padding-left:10px;
}

</style>
</head>

<body>
<h4>zookeeper指令集</h4>
<ul style=" list-style-type: none;">
	<li>
		<table class="table" >
			
			<tr>
				<td style="width:95%;" style="width:100%;background-color:lightgrey" colspan="10">启停</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">zkServer.sh start/stop/state</td>
				<td colspan="4" style="width:40%;">zookeeper 的启动/停止/状态  读取$ZOOKEEPER_HOME/conf/zoo.cfg 配置文件</td>
				<td colspan="1" style="width:10%;">zkCli.sh [-server ip:port]</td>
				<td colspan="4" style="width:40%;">连接指定集群 否则连接本地2181端口</td>
			</tr>
			<tr>
				<td style="width:100%;background-color:lightgrey" colspan="10">client命令</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">ls path [watch]</td>
				<td colspan="4" style="width:40%;">查询znode 根节点</td>
				<td colspan="1" style="width:10%;">get path [watch]</td>
				<td colspan="4" style="width:40%;">获得节点值</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">create path</td>
				<td colspan="4" style="width:40%;">查询znode 根节点</td>
				<td colspan="1" style="width:10%;">delete path [version]</td>
				<td colspan="4" style="width:40%;">删除文件版本</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">rmr</td>
				<td colspan="4" style="width:40%;">删除路径</td>
				<td colspan="1" style="width:10%;">quit</td>
				<td colspan="4" style="width:40%;">退出</td>
			</tr>
			<tr>
				<td style="width:100%;background-color:lightgrey" colspan="10">4字命令</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">conf</td>
				<td colspan="4" style="width:40%;">echo conf | nc ip port： 输出相关服务配置的详细信息</td>
				<td colspan="1" style="width:10%;">cons</td>
				<td colspan="4" style="width:40%;">echo cons | nc ip port：列出所有连接到服务器的客户端的完全的连接 / 会话的详细信息。</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">dump</td>
				<td colspan="4" style="width:40%;">echo dump | nc ip port：列出未经处理的会话和临时节点</td>
				<td colspan="1" style="width:10%;">envi</td>
				<td colspan="4" style="width:40%;">echo envi | nc ip port：输出关于服务环境的详细信息</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">reqs</td>
				<td colspan="4" style="width:40%;">echo reqs | nc ip port：列出未经处理的请求</td>
				<td colspan="1" style="width:10%;">ruok</td>
				<td colspan="4" style="width:40%;">echo ruok | nc ip port：测试服务是否处于正确状态。如果确实如此，那么服务返回“imok ”，否则不做任何相应</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">stat</td>
				<td colspan="4" style="width:40%;">echo stat | nc ip port：输出关于性能和连接的客户端的列表</td>
				<td colspan="1" style="width:10%;">wchs</td>
				<td colspan="4" style="width:40%;">echo wchs | nc ip port：列出服务器 watch 的详细信息</td>
			</tr>
			<tr>
				<td colspan="1" style="width:10%;">wchc</td>
				<td colspan="4" style="width:40%;">echo wchc | nc ip port：通过 session 列出服务器 watch 的详细信息，它的输出是一个与watch 相关的会话的列表</td>
				<td colspan="1" style="width:10%;">wchp</td>
				<td colspan="4" style="width:40%;">echo wchp | nc ip port：通过路径列出服务器 watch 的详细信息。它输出一个与 session相关的路径</td>
			</tr>
		</table>
		

	</li>
	<br/>
	


</ul>


<h4>zookeeper 存放其他组件的元数据</h4>
<ul style=" list-style-type: decimal;">
	<li>结构：逻辑目录存储，每个路径存储数据 包括创建时间，修改时间，是否含有子文件等信息,如果是文件记录数据<br/>
	</li>
	

	<li>hbase元数据：table,namespace，meta-region-server等信息<br/>
	</li>
	
	
	<li>kafka元数据：consumers,brokers等信息<br/>
	</li>
	

</ul>

</body>

</html>
